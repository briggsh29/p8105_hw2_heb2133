Homework 2
================

This is my work for homework 2.

``` r
library(tidyverse)
```

    ## -- Attaching packages ---------------------------------------------------- tidyverse 1.3.0 --

    ## v ggplot2 3.3.2     v purrr   0.3.4
    ## v tibble  3.0.3     v dplyr   1.0.2
    ## v tidyr   1.1.2     v stringr 1.4.0
    ## v readr   1.3.1     v forcats 0.5.0

    ## -- Conflicts ------------------------------------------------------- tidyverse_conflicts() --
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(readxl)
```

## Problem 1

Read and clean the Mr. Trash Wheel sheet:

``` r
trashwheel_df = 
  read_excel(
    "./Trash-Wheel-Collection-Totals-8-6-19.xlsx",
             sheet = "Mr. Trash Wheel", 
             range = cell_cols("A:N")) %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(
    sports_balls = round(sports_balls), 
    sports_balls = as.integer(sports_balls)
    ) 
```

Read and clean precipitation data for 2017 and 2018:

``` r
precipitation_2018 = 
  read_excel(
    "./Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2018 Precipitation", 
    skip = 1
    ) %>% 
  janitor::clean_names() %>% 
  drop_na(month) %>% 
  mutate(year = 2018) %>% 
  relocate (year)
             
precipitation_2017 = 
  read_excel(
    "./Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2017 Precipitation", 
    skip = 1
    ) %>% 
  janitor::clean_names() %>% 
  drop_na(month) %>% 
  mutate(year = 2017) %>% 
  relocate (year)
```

Now combine annual precipitation:

``` r
month_df = 
    tibble(
      month = 1:12,
      month_name = month.name
    )

precipitation_df = 
  bind_rows(precipitation_2018, precipitation_2017) %>% 
  relocate(year)  
  
precip_final_df = left_join(precipitation_df, month_df, by = "month")
```

This dataset contains information about the Mr. Trash Wheel trash
collector in Baltimore, Maryland. Key variables in this dataset includes
year, month, weight of trash collected, and specific kinds of trash.
There are a total of 14 columns in this dataset and 344 rows.

The precipitation dataset contains information on inches of
precipitation measured each month. In our consolidated dataset of
precipitation in 2017 and 2018, key variables include year, month (by
numeric order and name), and inches of precipitation. There are a total
of 4 columns and 24 rows.

``` r
precip_sum_2018 = 
  precipitation_2018 %>% 
  select(total) %>% 
  summarize_if(is.numeric, sum)
```

The total precipitation in 2018 was 70.3 inches.

``` r
trashwheel_2017_balls = 
  filter(trashwheel_df, year == 2017) %>% 
  select(sports_balls) %>% 
  summarize_if(is.numeric, median)
```

The median number of sports balls in a dumpster in 2017 was 8.

## Problem 2

Read and clean the NYC transit data. Convert the entry variable from
character to a logical variable.

``` r
NYC_transit_df = 
    read_csv("./NYC_Transit_Subway_Entrance_And_Exit_Data (1).csv") %>% 
  janitor::clean_names() %>% 
  select(line, station_name, station_latitude, station_longitude, starts_with("route"), entry, vending, entrance_type, ada) %>% 
  mutate_at(vars(route1:route11), as.character) %>% 
  pivot_longer(route1:route11, 
      names_to = "route_number",
      names_prefix = "route",
      values_to = "route_name") %>% 
  type.convert("entry", as.factor) 
```

    ## Parsed with column specification:
    ## cols(
    ##   .default = col_character(),
    ##   `Station Latitude` = col_double(),
    ##   `Station Longitude` = col_double(),
    ##   Route8 = col_double(),
    ##   Route9 = col_double(),
    ##   Route10 = col_double(),
    ##   Route11 = col_double(),
    ##   ADA = col_logical(),
    ##   `Free Crossover` = col_logical(),
    ##   `Entrance Latitude` = col_double(),
    ##   `Entrance Longitude` = col_double()
    ## )

    ## See spec(...) for full column specifications.
